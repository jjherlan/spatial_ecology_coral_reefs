{
  "hash": "432c9e7d673c69d4a3e429438105d919",
  "result": {
    "markdown": "---\ntitle: \"Soil\"\nauthor: \"jjh\"\neditor: visual\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsoil_full <- read.csv('soil_full.csv') %>%\n  as_tibble()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsoil_full\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 71 × 5\n   material range depth range_mean    mbc\n   <chr>    <chr> <dbl> <chr>       <dbl>\n 1 NDM      0-3     1.5 0-10       13323.\n 2 HAHTM    0-5     2.5 0-10        5251.\n 3 NDM      0-5     2.5 0-10        2253.\n 4 HAHTM    0-6     3   0-10        3274.\n 5 HAHTM    0-6     3   0-10        2881.\n 6 HAHTM    0-9     4.5 0-10        1527.\n 7 NDM      3-6     4.5 0-10        7314.\n 8 HAHTM    0-13    6.5 0-10         896.\n 9 HAHTM    0-13    6.5 0-10         581.\n10 NDM      0-15    7.5 0-10        1252.\n# ℹ 61 more rows\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsoil <- read.csv('soil_full.csv') %>%\n  as_tibble() %>%\n  mutate_at(vars(material, range, range_mean), factor) %>%\n  group_by(material, range_mean) %>%\n  dplyr::summarize(mean = mean(mbc), \n                   sd = sd(mbc), \n                   n = n(),\n                   se = sd/sqrt(n)\n  ) %>%\n  mutate(se = sd / sqrt(n),\n         lower.ci = mean - qt(1 - (0.05 / 2), n - 1) * se,\n         upper.ci = mean + qt(1 - (0.05 / 2), n - 1) * se)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'material'. You can override using the\n`.groups` argument.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsoil\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 12 × 8\n# Groups:   material [2]\n   material range_mean  mean      sd     n       se lower.ci upper.ci\n   <fct>    <fct>      <dbl>   <dbl> <int>    <dbl>    <dbl>    <dbl>\n 1 HAHTM    0-10       2244. 1659.       7  627.      710.      3778.\n 2 HAHTM    10-30       302.  141.      11   42.4     207.       396.\n 3 HAHTM    30-50       242.   94.8     11   28.6     178.       306.\n 4 HAHTM    50-70       188.   52.0      7   19.7     140.       237.\n 5 HAHTM    70-90       242.   55.0      6   22.5     185.       300.\n 6 HAHTM    90+         264.  104.       5   46.4     135.       393.\n 7 NDM      0-10       5193. 4823.       6 1969.      131.     10254.\n 8 NDM      10-30       434.  271.       4  136.        2.34     865.\n 9 NDM      30-50       136.   63.5      3   36.6     -21.4      294.\n10 NDM      50-70       234.    1.06     2    0.749   224.       243.\n11 NDM      70-90       220.   98.8      4   49.4      62.4      377.\n12 NDM      90+         164.   84.5      5   37.8      58.6      268.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nx_labels = c(\"0 - 10 cm\", \"10 - 30 cm\", \"30 - 50 cm\", \"50 - 70 cm\", \"70 - 90 cm\", \"90+ cm\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsoil.barplot <- ggplot(soil, aes(x = range_mean, y = mean, fill = material)) +   \n  geom_bar(stat = \"identity\", position = position_dodge(width = 0.8), width = 0.75, color = \"#2b2b2b\", linewidth = 0.50, alpha = 0.6) +\n  geom_linerange(aes(ymin = mean, ymax = mean + se), position = position_dodge(width = 0.8), linewidth = 0.75) +\n  scale_x_discrete(expand = c(0, 1), labels = x_labels) + \n  ggtitle(expression(paste(italic(\" Soil\")))) +\n  ylab(expression(paste(\"mbc\"))) +\n  labs(x = NULL) +\n  theme(strip.text = element_text(size = 10, color = \"black\", hjust = 0.50),\n        strip.background = element_rect(fill = \"#FFFFFF\", color = NA),    \n        panel.background = element_rect(fill = \"#FFFFFF\", color = NA),\n        panel.grid.major.x = element_blank(),\n        panel.grid.minor.x = element_blank(),\n        panel.grid.minor.y = element_blank(),\n        panel.grid.major.y = element_line(color = \"#b2b2b2\"),\n        panel.spacing.x = unit(1, \"cm\"),\n        panel.spacing.y = unit(0.5, \"cm\"),\n        panel.spacing = unit(1, \"lines\"),\n        axis.ticks = element_blank(),\n        legend.position = \"right\",\n        plot.title = element_text(size = 11),\n        axis.title.y = element_text(size = 11),\n        legend.title = element_blank())\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsoil.barplot\n```\n\n::: {.cell-output-display}\n![](soil_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsoil_full\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 71 × 5\n   material range depth range_mean    mbc\n   <chr>    <chr> <dbl> <chr>       <dbl>\n 1 NDM      0-3     1.5 0-10       13323.\n 2 HAHTM    0-5     2.5 0-10        5251.\n 3 NDM      0-5     2.5 0-10        2253.\n 4 HAHTM    0-6     3   0-10        3274.\n 5 HAHTM    0-6     3   0-10        2881.\n 6 HAHTM    0-9     4.5 0-10        1527.\n 7 NDM      3-6     4.5 0-10        7314.\n 8 HAHTM    0-13    6.5 0-10         896.\n 9 HAHTM    0-13    6.5 0-10         581.\n10 NDM      0-15    7.5 0-10        1252.\n# ℹ 61 more rows\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsoil.lm <- lm(mbc ~ depth * material, data = soil_full)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npar(mfrow = c(2, 2))\nplot(soil.lm)\n```\n\n::: {.cell-output-display}\n![](soil_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(soil.lm)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = mbc ~ depth * material, data = soil_full)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-2461.8  -555.8  -308.3   316.4  9913.9 \n\nCoefficients:\n                  Estimate Std. Error t value Pr(>|t|)   \n(Intercept)       1174.254    454.177   2.585   0.0119 * \ndepth              -14.064      8.463  -1.662   0.1012   \nmaterialNDM       2293.428    738.969   3.104   0.0028 **\ndepth:materialNDM  -25.148     12.430  -2.023   0.0470 * \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 1741 on 67 degrees of freedom\nMultiple R-squared:  0.2783,\tAdjusted R-squared:  0.246 \nF-statistic: 8.612 on 3 and 67 DF,  p-value: 6.493e-05\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(soil_full, aes(x = depth, y = mbc, color = material)) +\n  geom_point(size = 1.5)+\n  xlab(\"depth\") +\n  ylab(\"mbc\") +\n  ggtitle(\"Soil\") +\n  theme(axis.title.x = element_text(face = \"bold\", size = 14), \n        axis.title.y = element_text(face = \"bold\", size = 14), \n        axis.text.y  = element_text(size = 10),\n        axis.text.x  = element_text(size = 10), \n        legend.text = element_text(size = 10),\n        legend.title = element_text(size = 10, face = \"bold\"),\n        plot.title = element_text(hjust = 0.5, face = \"bold\", size = 16))\n```\n\n::: {.cell-output-display}\n![](soil_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "soil_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}